<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>forma.matrix.walk documentation</title></head><body><div id="header"><h1><a href="index.html">Forma 0.2.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="forma.classify.logistic.html"><span>forma.classify.logistic</span></a></li><li><a href="forma.date-time.html"><span>forma.date-time</span></a></li><li><a href="forma.gfw.cdm.html"><span>forma.gfw.cdm</span></a></li><li><a href="forma.hadoop.cli.html"><span>forma.hadoop.cli</span></a></li><li><a href="forma.hadoop.io.html"><span>forma.hadoop.io</span></a></li><li><a href="forma.hadoop.jobs.cdm.html"><span>forma.hadoop.jobs.cdm</span></a></li><li><a href="forma.hadoop.jobs.forma.html"><span>forma.hadoop.jobs.forma</span></a></li><li><a href="forma.hadoop.jobs.modis.html"><span>forma.hadoop.jobs.modis</span></a></li><li><a href="forma.hadoop.jobs.neighbors.html"><span>forma.hadoop.jobs.neighbors</span></a></li><li><a href="forma.hadoop.jobs.preprocess.html"><span>forma.hadoop.jobs.preprocess</span></a></li><li><a href="forma.hadoop.jobs.scatter.html"><span>forma.hadoop.jobs.scatter</span></a></li><li><a href="forma.hadoop.jobs.timeseries.html"><span>forma.hadoop.jobs.timeseries</span></a></li><li><a href="forma.hadoop.pail.html"><span>forma.hadoop.pail</span></a></li><li><a href="forma.hadoop.predicate.html"><span>forma.hadoop.predicate</span></a></li><li><a href="forma.hoptree.html"><span>forma.hoptree</span></a></li><li><a href="forma.matrix.utils.html"><span>forma.matrix.utils</span></a></li><li class="current"><a href="forma.matrix.walk.html"><span>forma.matrix.walk</span></a></li><li><a href="forma.ops.classify.html"><span>forma.ops.classify</span></a></li><li><a href="forma.playground.html"><span>forma.playground</span></a></li><li><a href="forma.postprocess.output.html"><span>forma.postprocess.output</span></a></li><li><a href="forma.reproject.html"><span>forma.reproject</span></a></li><li><a href="forma.schema.html"><span>forma.schema</span></a></li><li><a href="forma.source.fire.html"><span>forma.source.fire</span></a></li><li><a href="forma.source.gadmiso.html"><span>forma.source.gadmiso</span></a></li><li><a href="forma.source.hdf.html"><span>forma.source.hdf</span></a></li><li><a href="forma.source.rain.html"><span>forma.source.rain</span></a></li><li><a href="forma.source.static.html"><span>forma.source.static</span></a></li><li><a href="forma.source.tilesets.html"><span>forma.source.tilesets</span></a></li><li><a href="forma.static.html"><span>forma.static</span></a></li><li><a href="forma.testing.html"><span>forma.testing</span></a></li><li><a href="forma.thrift.html"><span>forma.thrift</span></a></li><li><a href="forma.trends.analysis.html"><span>forma.trends.analysis</span></a></li><li><a href="forma.trends.filter.html"><span>forma.trends.filter</span></a></li><li><a href="forma.trends.stretch.html"><span>forma.trends.stretch</span></a></li><li><a href="forma.utils.html"><span>forma.utils</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="forma.matrix.walk.html#var-buffer-matrix"><span>buffer-matrix</span></a></li><li><a href="forma.matrix.walk.html#var-neighbor-scan"><span>neighbor-scan</span></a></li><li><a href="forma.matrix.walk.html#var-walk-matrix"><span>walk-matrix</span></a></li><li><a href="forma.matrix.walk.html#var-windowed-function"><span>windowed-function</span></a></li><li><a href="forma.matrix.walk.html#var-wipe-out"><span>wipe-out</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>forma.matrix.walk documentation</h2><pre class="doc">Functions that move along a 2D array, collecting features of the
moving window.</pre><div class="public" id="var-buffer-matrix"><h3>buffer-matrix</h3><div class="usage"><code>(buffer-matrix buffer-size val [row :as mat])</code></div><pre class="doc">For the supplied matrix `mat`, returns a new matrix generated by
padding the beginning and end of each row and column with the
supplied value, repeated `buffer-size` times.

Example usage:
  (def test-matrix [[0 1 2]
                    [3 4 5]])
  (buffer-matrix 2 1 test-matrix) =&gt; [[1 1 1 1 1 1 1]
                                      [1 1 1 1 1 1 1]
                                      [1 1 0 1 2 1 1]
                                      [1 1 3 4 5 1 1]
                                      [1 1 1 1 1 1 1]
                                      [1 1 1 1 1 1 1]]</pre></div><div class="public" id="var-neighbor-scan"><h3>neighbor-scan</h3><div class="usage"><code>(neighbor-scan num-neighbors mat)</code></div><pre class="doc">Iterates across the supplied two dimensional matrix, returning a
lazy sequence of 2-element vectors of the form `[matrix entry,
neighbor-seq]`. Neighbors outside the matrix are reported as
nil. 

Example usage:
  (def test-matrix [[:0 :1 :2 :3]
                    [:4 :5 :6 :7]
                    [:8 :9 :a :b]
                    [:c :d :e :f]])

  (first (neighbor-scan 1 test-matrix))
     =&gt; [:0 ((nil nil nil) (nil :1) (nil :4 :5))]</pre></div><div class="public" id="var-walk-matrix"><h3>walk-matrix</h3><div class="usage"><code>(walk-matrix m window)</code></div><pre class="doc">Returns a sequence of matrices, after walking along the rows and
columns of the given matrix a the specified window size and
returning all window-by-window snapshots.

Example usage:
  (def mat [[0 1 2] [3 4 5]])
  (walk-matrix mat 2) =&gt; [[[0 1]
                           [3 4]]
                          [[1 2]
                           [4 5]]]</pre></div><div class="public" id="var-windowed-function"><h3>windowed-function</h3><div class="usage"><code>(windowed-function num-neighbors f mat)</code></div><pre class="doc">Returns a sequence of the results of calling the supplied function
`f` on each sub-matrix of matrix `mat`. Each submatrix is a series
of `(inc (* 2 num-neighbors))` nested vectors; each element sits at
the middle of a single submatrix, and is suqrrounded by its
neighbors (or `nil` if it sits on an edge.)</pre></div><div class="public" id="var-wipe-out"><h3>wipe-out</h3><div class="usage"><code>(wipe-out coll [k &amp; ks])</code></div><pre class="doc">Accepts a nested collection and a sequence of keys, and returns a new
collection generated by removing the value located at the position
indicated by the supplied key sequence.

Example usage:
  (def test-matrix [[0 1 2] [3 4 5]])
  (wipe-out test-matrix [1 2]) =&gt; [[0 1 2] [3 4]]</pre></div></div></body></html>
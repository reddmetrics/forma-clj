<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>forma.schema documentation</title></head><body><div id="header"><h1><a href="index.html">Forma 0.2.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3>Namespaces</h3><ul><li><a href="forma.classify.logistic.html">forma.classify.logistic</a></li><li><a href="forma.date-time.html">forma.date-time</a></li><li><a href="forma.gfw.cdm.html">forma.gfw.cdm</a></li><li><a href="forma.hadoop.cli.html">forma.hadoop.cli</a></li><li><a href="forma.hadoop.io.html">forma.hadoop.io</a></li><li><a href="forma.hadoop.jobs.cdm.html">forma.hadoop.jobs.cdm</a></li><li><a href="forma.hadoop.jobs.forma.html">forma.hadoop.jobs.forma</a></li><li><a href="forma.hadoop.jobs.modis.html">forma.hadoop.jobs.modis</a></li><li><a href="forma.hadoop.jobs.neighbors.html">forma.hadoop.jobs.neighbors</a></li><li><a href="forma.hadoop.jobs.preprocess.html">forma.hadoop.jobs.preprocess</a></li><li><a href="forma.hadoop.jobs.scatter.html">forma.hadoop.jobs.scatter</a></li><li><a href="forma.hadoop.jobs.timeseries.html">forma.hadoop.jobs.timeseries</a></li><li><a href="forma.hadoop.pail.html">forma.hadoop.pail</a></li><li><a href="forma.hadoop.predicate.html">forma.hadoop.predicate</a></li><li><a href="forma.hoptree.html">forma.hoptree</a></li><li><a href="forma.matrix.jblas.html">forma.matrix.jblas</a></li><li><a href="forma.matrix.utils.html">forma.matrix.utils</a></li><li><a href="forma.matrix.walk.html">forma.matrix.walk</a></li><li><a href="forma.ops.classify.html">forma.ops.classify</a></li><li><a href="forma.playground.html">forma.playground</a></li><li><a href="forma.postprocess.output.html">forma.postprocess.output</a></li><li><a href="forma.postprocess.select.html">forma.postprocess.select</a></li><li><a href="forma.reproject.html">forma.reproject</a></li><li class="current"><a href="forma.schema.html">forma.schema</a></li><li><a href="forma.source.fire.html">forma.source.fire</a></li><li><a href="forma.source.gadmiso.html">forma.source.gadmiso</a></li><li><a href="forma.source.hdf.html">forma.source.hdf</a></li><li><a href="forma.source.rain.html">forma.source.rain</a></li><li><a href="forma.source.static.html">forma.source.static</a></li><li><a href="forma.source.tilesets.html">forma.source.tilesets</a></li><li><a href="forma.static.html">forma.static</a></li><li><a href="forma.testing.html">forma.testing</a></li><li><a href="forma.thrift.html">forma.thrift</a></li><li><a href="forma.trends.analysis.html">forma.trends.analysis</a></li><li><a href="forma.trends.filter.html">forma.trends.filter</a></li><li><a href="forma.trends.stretch.html">forma.trends.stretch</a></li><li><a href="forma.utils.html">forma.utils</a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="forma.schema.html#var-add-fires">add-fires</a></li><li><a href="forma.schema.html#var-adjust">adjust</a></li><li><a href="forma.schema.html#var-adjust-fires">adjust-fires</a></li><li><a href="forma.schema.html#var-boundaries">boundaries</a></li><li><a href="forma.schema.html#var-combine-neighbors">combine-neighbors</a></li><li><a href="forma.schema.html#var-create-timeseries">create-timeseries</a></li><li><a href="forma.schema.html#var-fire-series">fire-series</a></li><li><a href="forma.schema.html#var-fires-cleanup">fires-cleanup</a></li><li><a href="forma.schema.html#var-forma-seq">forma-seq</a></li><li><a href="forma.schema.html#var-forma-value">forma-value</a></li><li><a href="forma.schema.html#var-merge-neighbors">merge-neighbors</a></li><li><a href="forma.schema.html#var-neighbor-value">neighbor-value</a></li></ul></div><div class="namespace-docs" id="content"><h2>forma.schema documentation</h2><pre class="doc"></pre><div class="public" id="var-add-fires"><h3>add-fires</h3><div class="usage"><code>(add-fires &amp; f-tuples)</code></div><pre class="doc">Returns a new `FireValue` object generated by summing up the fields
of each of the supplied `FireValue` objects.</pre></div><div class="public" id="var-adjust"><h3>adjust</h3><div class="usage"><code>(adjust &amp; pairs)</code></div><pre class="doc">Appropriately truncates the incoming timeseries values (paired with
the initial integer period), and outputs a new start and both
truncated series. For example:

  (adjust 0 [1 2 3 4] 1 [2 3 4 5])
  ;=&gt; (1 [2 3 4] [2 3 4])</pre></div><div class="public" id="var-adjust-fires"><h3>adjust-fires</h3><div class="usage"><code>(adjust-fires {:keys [est-start est-end t-res]} f-series)</code></div><pre class="doc">Returns the section of fires data found appropriate based on the
information in the estimation parameter map.</pre></div><div class="public" id="var-boundaries"><h3>boundaries</h3><div class="usage"><code>(boundaries pair-seq)</code></div><pre class="doc">Accepts a sequence of pairs of &lt;initial time period, collection&gt;
and returns the maximum start period and the minimum end period. For
example:

  (boundaries [0 [1 2 3 4] 1 [2 3 4 5]]) =&gt; [1 4]</pre></div><div class="public" id="var-combine-neighbors"><h3>combine-neighbors</h3><div class="usage"><code>(combine-neighbors [x &amp; more])</code></div><pre class="doc">Returns a new forma neighbor value generated by merging together
each entry in the supplied sequence of forma values.</pre></div><div class="public" id="var-create-timeseries"><h3>create-timeseries</h3><div class="usage"><code>(create-timeseries start-idx series)</code><code>(create-timeseries start-idx end-idx series)</code></div><pre class="doc">Create a TimeSeries from a period start index and a collection of timeseries
values. The period end index is calculated by adding the size of the
collection to the period start index.</pre></div><div class="public" id="var-fire-series"><h3>fire-series</h3><div class="usage"><code>(fire-series start xs)</code><code>(fire-series start end xs)</code></div><pre class="doc">Creates a `FireSeries` object from the supplied sequence of
`FireValue` objects.</pre></div><div class="public" id="var-fires-cleanup"><h3>fires-cleanup</h3><div class="usage"><code>(fires-cleanup fire-series)</code></div><pre class="doc">If the fire-series is nil, leave it be - it'll be handled in
`forma-seq-non-thrift`. Else, unpack it</pre></div><div class="public" id="var-forma-seq"><h3>forma-seq</h3><div class="usage"><code>(forma-seq fire-series short-series long-series t-stat-series break-series)</code></div><pre class="doc">Accepts a number of timeseries of equal length and starting
position, and uses the first entry in each timeseries to create a forma
value, for all first values and on up the sequence. Series must be
supplied as specified by the arguments for `forma-value`. For
example:

  (forma-seq fire-series short-series long-series t-stat-series break)

This works as written because we are not currently using FormaValue objects
here. Instead, the `forma-value` function merely creates a vector of values.

`fire-series` gets special treatment because it could come into `forma-seq` as
 nil (i.e. no fires for a given pixel) per the forma-tap query in forma.clj.</pre></div><div class="public" id="var-forma-value"><h3>forma-value</h3><div class="usage"><code>(forma-value fire short param-break long t-stat)</code></div><pre class="doc">Returns a vector containing a FireValue, short-term drop,
parametrized break, long-term drop and t-stat of the short-term
drop.</pre></div><div class="public" id="var-merge-neighbors"><h3>merge-neighbors</h3><div class="usage"><code>(merge-neighbors neighbor-val forma-val)</code></div><pre class="doc">Merges the supplied instance of `FormaValue` into the existing
aggregate collection of `FormaValue`s represented by
`neighbor-val`. (`neighbor-val` must be an instance of
`NeighborValue`.</pre></div><div class="public" id="var-neighbor-value"><h3>neighbor-value</h3><div class="usage"><code>(neighbor-value [fire short param long t-stat])</code><code>(neighbor-value fire neighbors avg-short min-short avg-long min-long avg-stat min-stat avg-param min-param)</code></div><pre class="doc">Accepts either a forma value or a sequence of sub-values.
</pre></div></div></body></html>